{
  "ConnectionStrings": {
    "SqlServer": "Server=localhost;Database=OshGVKMA;Trusted_Connection=true;TrustServerCertificate=true;",
    "SQLite": "Data Source=mobilegw_sync.db"
  },

  "SyncSettings": {
    "BatchSize": 20000,
    "MaxParallelBatches": 3,
    "TimeoutMinutes": 10,
    "RetryPolicy": {
      "MaxAttempts": 3,
      "DelaySeconds": 30,
      "MaxDelaySeconds": 300
    }
  },

  "OneC": {
    "BaseUrl": "https://gvk.asdf.kg/gbill/hs/api",
    "Username": "1C_COM_Connector",
    "Password": "YIC8I2SGXu",
    "Timeout": 300
  },

  "Monitoring": {
    "Prometheus": {
      "Enabled": true,
      "Port": 9090,
      "Path": "/metrics"
    },
    "HealthChecks": {
      "Enabled": true,
      "Path": "/health"
    }
  },

  "Alerts": {
    "Rules": [
      {
        "Name": "SyncFailure",
        "Type": "SyncStatus",
        "Condition": "Status == Failed",
        "Severity": "Critical",
        "Channels": [ "email", "telegram" ],
        "ThrottleMinutes": 5
      },
      {
        "Name": "SlowSync",
        "Type": "Duration",
        "Condition": "DurationMinutes > 10",
        "Severity": "Warning",
        "Channels": [ "email" ],
        "ThrottleMinutes": 15
      },
      {
        "Name": "HighMemoryUsage",
        "Type": "Resource",
        "Condition": "MemoryMB > 1000",
        "Severity": "Warning",
        "Channels": [ "telegram" ],
        "ThrottleMinutes": 30
      }
    ]
  },

  "Notifications": {
    "Email": {
      "Enabled": false,
      "SmtpServer": "smtp.gmail.com",
      "Port": 587,
      "UseSsl": true,
      "From": "sync-alerts@company.com",
      "Recipients": [ "admin@company.com" ],
      "Username": "",
      "Password": ""
    },
    "Telegram": {
      "Enabled": false,
      "BotToken": "YOUR_BOT_TOKEN",
      "ChatId": "YOUR_CHAT_ID"
    }
  },

  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "Microsoft.EntityFrameworkCore": "Warning",
        "System": "Warning"
      }
    }
  },

  "QuartzJobs": [
    {
      "Id": "subscribers-sync",
      "Name": "Синхронизация абонентов",
      "JobType": "Subscribers",
      "CronExpression": "0 0 * * * ?",
      "IsEnabled": true,
      "IsExclusive": true,
      "Priority": 10,
      "Endpoint": {
        "Path": "/api/customers",
        "Method": "GET",
        "Headers": {
          "Accept": "application/json"
        }
      },
      "Target": {
        "StagingTable": "staging_subscribers",
        "Procedure": "usp_SyncSubscribers",
        "BatchSize": 10000,
        "UseTVP": true
      },
      "Parameters": {
        "IncludeDeleted": "false",
        "DateFrom": ""
      }
    }
  ]
}